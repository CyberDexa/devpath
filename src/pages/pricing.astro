---
import PageLayout from '../layouts/PageLayout.astro';
---

<PageLayout title="Pricing" description="Simple, transparent pricing. Start free, upgrade when you need more.">
  <section class="max-w-6xl mx-auto px-6 py-20">
    <!-- Header -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-teal/20 bg-teal/5 text-teal text-xs font-medium mb-4">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
        Simple pricing
      </div>
      <h1 class="font-display font-extrabold text-4xl sm:text-5xl text-bright mb-4">
        Start free, scale as you <span class="text-gradient">grow</span>
      </h1>
      <p class="text-dim text-lg max-w-xl mx-auto">
        Everything you need to learn, build, and advance your dev career. No hidden fees. Cancel anytime.
      </p>

      <!-- Billing toggle -->
      <div class="flex items-center justify-center gap-4 mt-8" id="billing-toggle">
        <span class="text-sm text-dim" id="label-monthly">Monthly</span>
        <button
          id="toggle-btn"
          class="relative w-14 h-7 rounded-full bg-charcoal transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-teal/50 focus:ring-offset-2 focus:ring-offset-void"
          aria-label="Toggle annual billing"
        >
          <span
            id="toggle-dot"
            class="absolute top-1 left-1 w-5 h-5 rounded-full bg-white transition-transform duration-300"
          ></span>
        </button>
        <span class="text-sm text-dim flex items-center gap-1.5" id="label-annual">
          Annual
          <span class="px-1.5 py-0.5 rounded text-[10px] font-bold bg-teal/15 text-teal">SAVE 20%</span>
        </span>
      </div>
    </div>

    <!-- Pricing Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 mb-20">
      <!-- Free Plan -->
      <div class="rounded-2xl border border-white/[0.06] bg-surface p-8 flex flex-col">
        <div class="mb-6">
          <h3 class="font-display font-bold text-lg text-bright mb-1">Free</h3>
          <p class="text-sm text-dim">Perfect for getting started</p>
        </div>
        <div class="mb-6">
          <span class="font-display font-extrabold text-4xl text-bright">$0</span>
          <span class="text-dim text-sm"> / forever</span>
        </div>
        <a
          href="/signup"
          class="w-full text-center py-3 rounded-xl text-sm font-semibold border border-white/10 text-text hover:bg-white/[0.04] hover:border-white/15 transition-all mb-8"
        >
          Get Started Free
        </a>
        <ul class="space-y-3.5 flex-1">
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            3 roadmaps active at once
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Basic progress tracking
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Community access
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            10 AI tutor questions / day
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            5 coding projects
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Public profile & badges
          </li>
        </ul>
      </div>

      <!-- Pro Plan (Popular) -->
      <div class="rounded-2xl border border-teal/30 bg-surface p-8 flex flex-col relative shadow-[0_0_60px_-12px_rgba(0,229,160,0.12)]">
        <div class="absolute -top-3.5 left-1/2 -translate-x-1/2 px-4 py-1 rounded-full bg-teal text-void text-xs font-bold tracking-wide">
          MOST POPULAR
        </div>
        <div class="mb-6">
          <h3 class="font-display font-bold text-lg text-teal mb-1">Pro</h3>
          <p class="text-sm text-dim">For serious learners</p>
        </div>
        <div class="mb-6">
          <span class="font-display font-extrabold text-4xl text-bright pricing-amount" data-monthly="12" data-annual="10">$12</span>
          <span class="text-dim text-sm pricing-period"> / month</span>
        </div>
        <a
          href="/signup"
          class="w-full text-center py-3 rounded-xl text-sm font-semibold bg-teal text-void hover:brightness-110 transition-all shadow-glow mb-8"
        >
          Start 7-Day Free Trial
        </a>
        <ul class="space-y-3.5 flex-1">
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            <strong>Unlimited</strong> roadmaps
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            <strong>Unlimited</strong> AI tutor
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Full IDE code editor
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            <strong>Unlimited</strong> coding projects
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            AI-personalized learning paths
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Advanced progress analytics
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Priority support
          </li>
          <li class="flex items-start gap-2.5 text-sm text-text">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Career path recommendations
          </li>
        </ul>
      </div>

      <!-- Teams Plan -->
      <div class="rounded-2xl border border-white/[0.06] bg-surface p-8 flex flex-col">
        <div class="mb-6">
          <h3 class="font-display font-bold text-lg text-bright mb-1">Teams</h3>
          <p class="text-sm text-dim">For organizations & bootcamps</p>
        </div>
        <div class="mb-6">
          <span class="font-display font-extrabold text-4xl text-bright pricing-amount" data-monthly="29" data-annual="24">$29</span>
          <span class="text-dim text-sm pricing-period"> / seat / month</span>
        </div>
        <a
          href="/signup"
          class="w-full text-center py-3 rounded-xl text-sm font-semibold border border-white/10 text-text hover:bg-white/[0.04] hover:border-white/15 transition-all mb-8"
        >
          Contact Sales
        </a>
        <ul class="space-y-3.5 flex-1">
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Everything in Pro
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Team dashboard & analytics
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Custom roadmap builder
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            SSO & admin controls
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Bulk seat management
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Dedicated account manager
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Custom integrations
          </li>
          <li class="flex items-start gap-2.5 text-sm text-dim">
            <svg class="w-4 h-4 text-teal mt-0.5 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg>
            Invoice billing
          </li>
        </ul>
      </div>
    </div>

    <!-- Feature comparison table -->
    <div class="mb-20">
      <h2 class="font-display font-bold text-2xl text-bright text-center mb-10">
        Compare plans in detail
      </h2>
      <div class="overflow-x-auto">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-white/[0.06]">
              <th class="text-left py-4 pr-4 text-dim font-medium w-1/3">Feature</th>
              <th class="text-center py-4 px-4 text-dim font-medium">Free</th>
              <th class="text-center py-4 px-4 text-teal font-medium">Pro</th>
              <th class="text-center py-4 px-4 text-dim font-medium">Teams</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-white/[0.04]">
            <tr>
              <td class="py-3.5 pr-4 text-text">Active Roadmaps</td>
              <td class="py-3.5 px-4 text-center text-dim">3</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">AI Tutor Questions</td>
              <td class="py-3.5 px-4 text-center text-dim">10 / day</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Coding Projects</td>
              <td class="py-3.5 px-4 text-center text-dim">5</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Unlimited</td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Code Editor</td>
              <td class="py-3.5 px-4 text-center text-dim">Basic</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Full IDE</td>
              <td class="py-3.5 px-4 text-center text-bright font-medium">Full IDE</td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">AI-Personalized Paths</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Advanced Analytics</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Career Recommendations</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Team Dashboard</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">Custom Roadmap Builder</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
            <tr>
              <td class="py-3.5 pr-4 text-text">SSO & Admin Controls</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center text-dim">—</td>
              <td class="py-3.5 px-4 text-center"><svg class="w-4 h-4 text-teal mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path d="M5 13l4 4L19 7"/></svg></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="max-w-3xl mx-auto">
      <h2 class="font-display font-bold text-2xl text-bright text-center mb-10">
        Frequently asked questions
      </h2>
      <div class="space-y-4" id="faq-container">
        <div class="faq-item rounded-xl border border-white/[0.06] bg-surface overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-4 text-left text-text hover:text-bright transition-colors">
            <span class="text-sm font-medium">Can I switch plans later?</span>
            <svg class="faq-arrow w-4 h-4 text-dim transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-sm text-dim">Yes! You can upgrade, downgrade, or cancel your plan at any time. Changes take effect at the start of your next billing cycle. If you upgrade, you'll get immediate access to Pro features.</p>
          </div>
        </div>
        <div class="faq-item rounded-xl border border-white/[0.06] bg-surface overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-4 text-left text-text hover:text-bright transition-colors">
            <span class="text-sm font-medium">Is there a free trial for Pro?</span>
            <svg class="faq-arrow w-4 h-4 text-dim transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-sm text-dim">Absolutely. Every Pro subscription starts with a 7-day free trial. You won't be charged until the trial ends, and you can cancel anytime before that with no obligation.</p>
          </div>
        </div>
        <div class="faq-item rounded-xl border border-white/[0.06] bg-surface overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-4 text-left text-text hover:text-bright transition-colors">
            <span class="text-sm font-medium">What AI models power the tutor?</span>
            <svg class="faq-arrow w-4 h-4 text-dim transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-sm text-dim">DevPath uses a hybrid AI system combining Anthropic Claude and OpenAI GPT models for explanations, code review, and personalized learning. We automatically select the best model for each task.</p>
          </div>
        </div>
        <div class="faq-item rounded-xl border border-white/[0.06] bg-surface overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-4 text-left text-text hover:text-bright transition-colors">
            <span class="text-sm font-medium">Do I keep my progress if I downgrade?</span>
            <svg class="faq-arrow w-4 h-4 text-dim transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-sm text-dim">Yes. All your learning progress, badges, and project completions are permanently saved. Downgrading only limits access to premium features — your data stays intact.</p>
          </div>
        </div>
        <div class="faq-item rounded-xl border border-white/[0.06] bg-surface overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-4 text-left text-text hover:text-bright transition-colors">
            <span class="text-sm font-medium">How does team billing work?</span>
            <svg class="faq-arrow w-4 h-4 text-dim transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          <div class="faq-content hidden px-6 pb-4">
            <p class="text-sm text-dim">Teams are billed per seat. Admins can add or remove seats at any time, and billing adjusts automatically. We offer volume discounts for 50+ seats and custom enterprise agreements.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom CTA -->
    <div class="text-center mt-20 py-16 rounded-2xl border border-white/[0.04] bg-surface relative overflow-hidden">
      <div class="absolute inset-0 dot-grid opacity-20"></div>
      <div class="relative z-10">
        <h2 class="font-display font-bold text-2xl sm:text-3xl text-bright mb-3">
          Ready to accelerate your learning?
        </h2>
        <p class="text-dim text-sm max-w-md mx-auto mb-6">
          Join thousands of developers who are learning smarter with AI-powered roadmaps.
        </p>
        <a
          href="/signup"
          class="inline-flex items-center gap-2 px-8 py-3.5 rounded-xl text-sm font-semibold bg-teal text-void hover:brightness-110 transition-all shadow-glow"
        >
          Start Learning for Free
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        </a>
      </div>
    </div>
  </section>
</PageLayout>

<script>
  // Billing toggle
  const toggleBtn = document.getElementById('toggle-btn');
  const toggleDot = document.getElementById('toggle-dot');
  const amounts = document.querySelectorAll('.pricing-amount');
  const periods = document.querySelectorAll('.pricing-period');
  const labelMonthly = document.getElementById('label-monthly');
  const labelAnnual = document.getElementById('label-annual');
  let isAnnual = false;

  toggleBtn?.addEventListener('click', () => {
    isAnnual = !isAnnual;
    toggleDot?.style.setProperty('transform', isAnnual ? 'translateX(1.75rem)' : 'translateX(0)');
    toggleBtn?.style.setProperty('background-color', isAnnual ? 'var(--color-accent-teal)' : '');

    if (labelMonthly) labelMonthly.style.color = isAnnual ? '' : 'var(--color-bright)';
    if (labelAnnual) labelAnnual.style.color = isAnnual ? 'var(--color-bright)' : '';

    amounts.forEach((el) => {
      const monthly = el.getAttribute('data-monthly');
      const annual = el.getAttribute('data-annual');
      if (monthly && annual) {
        el.textContent = isAnnual ? `$${annual}` : `$${monthly}`;
      }
    });

    periods.forEach((el) => {
      const text = el.textContent || '';
      if (text.includes('seat')) {
        el.textContent = isAnnual ? ' / seat / month (billed annually)' : ' / seat / month';
      } else {
        el.textContent = isAnnual ? ' / month (billed annually)' : ' / month';
      }
    });
  });

  // FAQ accordion
  document.querySelectorAll('.faq-toggle').forEach((btn) => {
    btn.addEventListener('click', () => {
      const item = btn.closest('.faq-item');
      const content = item?.querySelector('.faq-content');
      const arrow = item?.querySelector('.faq-arrow');
      const isOpen = !content?.classList.contains('hidden');

      // Close all
      document.querySelectorAll('.faq-content').forEach((c) => c.classList.add('hidden'));
      document.querySelectorAll('.faq-arrow').forEach((a) => a.style.transform = '');

      // Open this one if it was closed
      if (!isOpen && content && arrow) {
        content.classList.remove('hidden');
        arrow.style.transform = 'rotate(180deg)';
      }
    });
  });
</script>
