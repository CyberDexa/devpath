---
const navLinks = [
  { href: "/roadmaps", label: "Roadmaps" },
  { href: "/projects", label: "Projects" },
  { href: "/ai-tutor", label: "AI Tutor" },
  { href: "/leaderboard", label: "Leaderboard" },
];

const currentPath = Astro.url.pathname;
---

<header
  class="fixed top-0 left-0 right-0 z-50 glass-strong"
>
  <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-2.5 group">
      <div
        class="w-8 h-8 rounded-lg bg-teal/10 border border-teal/20 flex items-center justify-center group-hover:border-teal/40 transition-colors duration-300"
      >
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="text-teal"
        >
          <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
          <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
        </svg>
      </div>
      <span class="font-display font-bold text-lg text-bright tracking-tight">
        DevPath
      </span>
    </a>

    <!-- Navigation -->
    <nav class="hidden md:flex items-center gap-1">
      {
        navLinks.map((link) => {
          const isActive = currentPath.startsWith(link.href);
          return (
            <a
              href={link.href}
              class:list={[
                "px-3.5 py-2 rounded-lg text-sm font-medium transition-all duration-200",
                isActive
                  ? "text-teal bg-teal/8"
                  : "text-dim hover:text-text hover:bg-white/4",
              ]}
            >
              {link.label}
            </a>
          );
        })
      }
    </nav>

    <!-- Auth Buttons -->
    <div class="flex items-center gap-3">
      <a
        href="/login"
        class="hidden sm:inline-flex text-sm font-medium text-dim hover:text-text transition-colors duration-200"
      >
        Log in
      </a>
      <a
        href="/signup"
        class="inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold bg-teal text-void hover:bg-teal-dim transition-colors duration-200 shadow-glow"
      >
        Get Started
      </a>

      <!-- Mobile menu button -->
      <button
        class="md:hidden p-2 text-dim hover:text-text transition-colors"
        aria-label="Open menu"
        id="mobile-menu-toggle"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M3 12h18M3 6h18M3 18h18" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div
    id="mobile-menu"
    class="hidden md:hidden glass-strong border-t border-white/5"
  >
    <nav class="px-6 py-4 flex flex-col gap-1">
      {
        navLinks.map((link) => {
          const isActive = currentPath.startsWith(link.href);
          return (
            <a
              href={link.href}
              class:list={[
                "px-3.5 py-2.5 rounded-lg text-sm font-medium transition-all duration-200",
                isActive
                  ? "text-teal bg-teal/8"
                  : "text-dim hover:text-text hover:bg-white/4",
              ]}
            >
              {link.label}
            </a>
          );
        })
      }
    </nav>
  </div>
</header>

<!-- Spacer for fixed header -->
<div class="h-16"></div>

<script>
  const toggle = document.getElementById("mobile-menu-toggle");
  const menu = document.getElementById("mobile-menu");
  toggle?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
  });
</script>
